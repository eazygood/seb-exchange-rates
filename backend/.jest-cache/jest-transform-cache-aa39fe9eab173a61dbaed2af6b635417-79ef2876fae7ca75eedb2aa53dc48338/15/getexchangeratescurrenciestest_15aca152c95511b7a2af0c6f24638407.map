{"file":"/Users/kimnaciscionis/git/personal/seb-exchange-rates/test/unit/routes/public/get-exchange-rates-currencies.test.ts","mappings":";;AAwBA,IAAI,CAAC,IAAI,CAAC,qCAAqC,EAAE,CAAC,GAAG,EAAE;IACrD,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC,CAAC,CAAC;AAzBJ,4CAA4D;AAE5D,IAAI,GAAoB,CAAC;AAEzB,MAAM,EAAE,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC;AACrC,MAAM,UAAU,GAAG,EAAE,CAAC,KAAK,EAAE,OAAY,EAAE,OAAW,EAAE,EAAE;IACtD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACrB,MAAM,IAAI,GAAG;QACT,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE;QACd,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;QAClB,OAAO,EAAE;YACL,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE;SACpB;QACD,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;YACV,MAAM,EAAE,GAAG,EAAE;gBACT,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAA;YAC9C,CAAC;SACJ,CAAC;KACL,CAAA;IAED,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACnC,CAAC,CAAC,CAAA;AAMF,SAAS,CAAC,KAAK,IAAI,EAAE;IACjB,GAAG,GAAG,MAAM,IAAA,qBAAY,GAAE,CAAC;AAE/B,CAAC,CAAC,CAAC;AAEH,UAAU,CAAC,KAAK,IAAI,EAAE;IAClB,IAAI,CAAC,aAAa,EAAE,CAAC;AACzB,CAAC,CAAC,CAAA;AAEF,QAAQ,CAAC,KAAK,IAAI,EAAE;IAChB,MAAM,IAAA,oBAAW,GAAE,CAAC;AACxB,CAAC,CAAC,CAAA;AAEF,QAAQ,CAAC,sCAAsC,EAAE,GAAG,EAAE;IAClD,EAAE,CAAC,IAAI,CAAC,0BAA0B,EAAE,KAAK,IAAI,EAAE;QAC3C,MAAM,YAAY,GAAG,MAAM,GAAG,CAAC,MAAM,CAAC;YAClC,MAAM,EAAE,KAAK;YACb,GAAG,EAAE,mCAAmC;SAC3C,CAAC,CAAC;QAEH,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;IAEnC,CAAC,CAAC,CAAA;AACN,CAAC,CAAC,CAAA","names":[],"sources":["/Users/kimnaciscionis/git/personal/seb-exchange-rates/test/unit/routes/public/get-exchange-rates-currencies.test.ts"],"sourcesContent":["import type { FastifyInstance } from \"fastify\";\nimport { startTestEnv, stopTestEnv } from \"../../../helper\";\n\nlet app: FastifyInstance;\n\nconst fp = require('fastify-plugin');\nconst knexPlugin = fp(async (fastify: any, options:any) => {\n    console.log(options);\n    const knex = { \n        raw: jest.fn(),\n        destroy: jest.fn(),\n        migrate: {\n            latest: jest.fn(),\n        },\n        table: () => ({\n            select: () => {\n                return ['EUR', 'USD', 'AUD', 'RUB', 'JPY']\n            },\n        })\n    }\n\n    fastify.decorate('knex', knex);\n})\n\njest.mock('../../../../src/plugins/knex-plugin', (() => {\n  return knexPlugin;\n}));\n\nbeforeAll(async () => {\n    app = await startTestEnv();\n\n});\n\nbeforeEach(async () => {\n    jest.resetAllMocks();\n})\n\nafterAll(async () => {\n    await stopTestEnv();\n})\n\ndescribe('GET public/exchange-rates/currencies', () => {\n    it.only('should get currency list', async () => {\n        const exchageRates = await app.inject({\n            method: 'GET',\n            url: '/public/exchange-rates/currencies',\n        });\n\n        console.log(exchageRates.statusCode);\n        console.log(exchageRates.body);\n\n    })\n})\n"],"version":3}