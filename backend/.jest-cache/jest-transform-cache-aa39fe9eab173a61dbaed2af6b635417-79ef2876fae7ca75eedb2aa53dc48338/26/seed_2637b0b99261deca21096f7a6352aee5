754b441a68fe36c217f706071849ed27
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.seedExchangeRatesByDate = exports.seedExchangeRates = void 0;
const entities_1 = require("../../entities");
const seed_manager_1 = require("../../managers/seed-manager");
exports.seedExchangeRates = {
    method: "GET",
    url: "/seed",
    schema: {},
    async handler(req, reply) {
        await (0, seed_manager_1.populateDbWithExchangeRates)(req.server);
        await (0, seed_manager_1.populateDbWithCurrency)(req.server);
        reply.code(200).send({ status: 'success' });
    },
};
exports.seedExchangeRatesByDate = {
    method: "GET",
    url: "/seedByDate",
    schema: {
        querystring: entities_1.SeedFxRatesByDateSchema,
    },
    async handler(req, reply) {
        await (0, seed_manager_1.populateDbWithExchangeRates)(req.server, req.query.date);
        reply.code(200).send({ status: 'success' });
    },
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvc3JjL3JvdXRlcy9pbnRlcm5hbC9zZWVkLnRzIiwibWFwcGluZ3MiOiI7OztBQUFBLDZDQUF3RjtBQUN4Riw4REFBa0c7QUFFckYsUUFBQSxpQkFBaUIsR0FBYztJQUMxQyxNQUFNLEVBQUUsS0FBSztJQUNiLEdBQUcsRUFBRSxPQUFPO0lBQ1osTUFBTSxFQUFFLEVBQUU7SUFDVixLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLO1FBQ3RCLE1BQU0sSUFBQSwwQ0FBMkIsRUFBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUMsTUFBTSxJQUFBLHFDQUFzQixFQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUV6QyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFBO0lBQzdDLENBQUM7Q0FDRixDQUFDO0FBRVcsUUFBQSx1QkFBdUIsR0FBbUQ7SUFDckYsTUFBTSxFQUFFLEtBQUs7SUFDYixHQUFHLEVBQUUsYUFBYTtJQUNsQixNQUFNLEVBQUU7UUFDTixXQUFXLEVBQUUsa0NBQXVCO0tBQ3JDO0lBQ0QsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSztRQUN0QixNQUFNLElBQUEsMENBQTJCLEVBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRTlELEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUE7SUFDN0MsQ0FBQztDQUNGLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvc3JjL3JvdXRlcy9pbnRlcm5hbC9zZWVkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlLCBTZWVkRnhSYXRlc0J5RGF0ZVF1ZXJ5LCBTZWVkRnhSYXRlc0J5RGF0ZVNjaGVtYSB9IGZyb20gXCIuLi8uLi9lbnRpdGllc1wiO1xuaW1wb3J0IHsgcG9wdWxhdGVEYldpdGhDdXJyZW5jeSwgcG9wdWxhdGVEYldpdGhFeGNoYW5nZVJhdGVzIH0gZnJvbSBcIi4uLy4uL21hbmFnZXJzL3NlZWQtbWFuYWdlclwiO1xuXG5leHBvcnQgY29uc3Qgc2VlZEV4Y2hhbmdlUmF0ZXM6IFJvdXRlPHt9PiA9IHtcbiAgbWV0aG9kOiBcIkdFVFwiLFxuICB1cmw6IFwiL3NlZWRcIixcbiAgc2NoZW1hOiB7fSxcbiAgYXN5bmMgaGFuZGxlcihyZXEsIHJlcGx5KSB7XG4gICAgYXdhaXQgcG9wdWxhdGVEYldpdGhFeGNoYW5nZVJhdGVzKHJlcS5zZXJ2ZXIpO1xuICAgIGF3YWl0IHBvcHVsYXRlRGJXaXRoQ3VycmVuY3kocmVxLnNlcnZlcik7XG5cbiAgICByZXBseS5jb2RlKDIwMCkuc2VuZCh7IHN0YXR1czogJ3N1Y2Nlc3MnIH0pXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3Qgc2VlZEV4Y2hhbmdlUmF0ZXNCeURhdGU6IFJvdXRlPHsgUXVlcnlzdHJpbmc6IFNlZWRGeFJhdGVzQnlEYXRlUXVlcnkgfT4gPSB7XG4gIG1ldGhvZDogXCJHRVRcIixcbiAgdXJsOiBcIi9zZWVkQnlEYXRlXCIsXG4gIHNjaGVtYToge1xuICAgIHF1ZXJ5c3RyaW5nOiBTZWVkRnhSYXRlc0J5RGF0ZVNjaGVtYSxcbiAgfSxcbiAgYXN5bmMgaGFuZGxlcihyZXEsIHJlcGx5KSB7XG4gICAgYXdhaXQgcG9wdWxhdGVEYldpdGhFeGNoYW5nZVJhdGVzKHJlcS5zZXJ2ZXIsIHJlcS5xdWVyeS5kYXRlKTtcblxuICAgIHJlcGx5LmNvZGUoMjAwKS5zZW5kKHsgc3RhdHVzOiAnc3VjY2VzcycgfSlcbiAgfSxcbn07Il0sInZlcnNpb24iOjN9