ba885f444747c096843f17d033322048
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const fastify_1 = __importDefault(require("fastify"));
const mysql_adapter_1 = require("./adapters/mysql-adapter");
const knex_plugin_1 = __importDefault(require("./plugins/knex-plugin"));
const cors_1 = __importDefault(require("@fastify/cors"));
const fastify_cron_1 = __importDefault(require("fastify-cron"));
const cron_job_1 = __importDefault(require("./jobs/cron-job"));
const f = (0, fastify_1.default)();
exports.default = f
    .register(cors_1.default, {
    origin: "*",
    allowedHeaders: "GET",
})
    .register(knex_plugin_1.default, (0, mysql_adapter_1.getConfig)())
    .register(fastify_cron_1.default, { jobs: [] })
    // .register(registerMysqlDatabase)
    // .register(registerInternalRoutes, { prefix: "internal" })
    // .register(registerPublicRoutes, { prefix: "public" })
    .register(cron_job_1.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvc3JjL2FwcC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHNEQUE4QjtBQUM5Qiw0REFBNEU7QUFFNUUsd0VBQStDO0FBRS9DLHlEQUFpQztBQUNqQyxnRUFBdUM7QUFDdkMsK0RBQTZDO0FBRTdDLE1BQU0sQ0FBQyxHQUFHLElBQUEsaUJBQU8sR0FBRSxDQUFBO0FBRW5CLGtCQUFlLENBQUM7S0FDYixRQUFRLENBQUMsY0FBSSxFQUFFO0lBQ2QsTUFBTSxFQUFFLEdBQUc7SUFDWCxjQUFjLEVBQUUsS0FBSztDQUN0QixDQUFDO0tBQ0QsUUFBUSxDQUFDLHFCQUFVLEVBQUUsSUFBQSx5QkFBUyxHQUFFLENBQUM7S0FDakMsUUFBUSxDQUFDLHNCQUFXLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDcEMsbUNBQW1DO0lBQ25DLDREQUE0RDtJQUM1RCx3REFBd0Q7S0FDdkQsUUFBUSxDQUFDLGtCQUFjLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMva2ltbmFjaXNjaW9uaXMvZ2l0L3BlcnNvbmFsL3NlYi1leGNoYW5nZS1yYXRlcy9zcmMvYXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmYXN0aWZ5IGZyb20gXCJmYXN0aWZ5XCI7XG5pbXBvcnQgeyBnZXRDb25maWcsIHJlZ2lzdGVyTXlzcWxEYXRhYmFzZSB9IGZyb20gXCIuL2FkYXB0ZXJzL215c3FsLWFkYXB0ZXJcIjtcbmltcG9ydCByZWdpc3RlclB1YmxpY1JvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvcHVibGljL3B1YmxpY1wiO1xuaW1wb3J0IGtuZXhQbHVnaW4gZnJvbSBcIi4vcGx1Z2lucy9rbmV4LXBsdWdpblwiO1xuaW1wb3J0IHJlZ2lzdGVySW50ZXJuYWxSb3V0ZXMgZnJvbSBcIi4vcm91dGVzL2ludGVybmFsL2ludGVybmFsXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiQGZhc3RpZnkvY29yc1wiO1xuaW1wb3J0IGZhc3RpZnlDcm9uIGZyb20gXCJmYXN0aWZ5LWNyb25cIjtcbmltcG9ydCBjcmVhdGVDcm9uSm9icyBmcm9tIFwiLi9qb2JzL2Nyb24tam9iXCI7XG5cbmNvbnN0IGYgPSBmYXN0aWZ5KClcblxuZXhwb3J0IGRlZmF1bHQgZlxuICAucmVnaXN0ZXIoY29ycywge1xuICAgIG9yaWdpbjogXCIqXCIsXG4gICAgYWxsb3dlZEhlYWRlcnM6IFwiR0VUXCIsXG4gIH0pXG4gIC5yZWdpc3RlcihrbmV4UGx1Z2luLCBnZXRDb25maWcoKSlcbiAgLnJlZ2lzdGVyKGZhc3RpZnlDcm9uLCB7IGpvYnM6IFtdIH0pXG4gIC8vIC5yZWdpc3RlcihyZWdpc3Rlck15c3FsRGF0YWJhc2UpXG4gIC8vIC5yZWdpc3RlcihyZWdpc3RlckludGVybmFsUm91dGVzLCB7IHByZWZpeDogXCJpbnRlcm5hbFwiIH0pXG4gIC8vIC5yZWdpc3RlcihyZWdpc3RlclB1YmxpY1JvdXRlcywgeyBwcmVmaXg6IFwicHVibGljXCIgfSlcbiAgLnJlZ2lzdGVyKGNyZWF0ZUNyb25Kb2JzKTtcbiJdLCJ2ZXJzaW9uIjozfQ==