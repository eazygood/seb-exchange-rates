8b8b3df2bab86d6151dd44735911969c
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.seedExchangeRatesByDate = exports.seedExchangeRates = void 0;
const entities_1 = require("../../entities");
const seed_manager_1 = require("../../managers/seed-manager");
exports.seedExchangeRates = {
    method: "GET",
    url: "/seed",
    schema: {},
    async handler(req, reply) {
        await (0, seed_manager_1.populateDbWithExchangeRates)(req.server);
        await (0, seed_manager_1.populateDbWithCurrency)(req.server);
        reply.code(200).send({ status: 'success' });
    },
};
exports.seedExchangeRatesByDate = {
    method: "GET",
    url: "/seedByDate",
    schema: {
        querystring: entities_1.SeedFxRatesByDateSchema,
    },
    async handler(req, reply) {
        await (0, seed_manager_1.populateDbWithExchangeRates)(req.server, req.query.date);
        reply.code(200).send({ status: 'success' });
    },
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvYmFja2VuZC9zcmMvcm91dGVzL2ludGVybmFsL3NlZWQudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkNBQXdGO0FBQ3hGLDhEQUFrRztBQUVyRixRQUFBLGlCQUFpQixHQUFjO0lBQzFDLE1BQU0sRUFBRSxLQUFLO0lBQ2IsR0FBRyxFQUFFLE9BQU87SUFDWixNQUFNLEVBQUUsRUFBRTtJQUNWLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUs7UUFDdEIsTUFBTSxJQUFBLDBDQUEyQixFQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QyxNQUFNLElBQUEscUNBQXNCLEVBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRXpDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUE7SUFDN0MsQ0FBQztDQUNGLENBQUM7QUFFVyxRQUFBLHVCQUF1QixHQUFtRDtJQUNyRixNQUFNLEVBQUUsS0FBSztJQUNiLEdBQUcsRUFBRSxhQUFhO0lBQ2xCLE1BQU0sRUFBRTtRQUNOLFdBQVcsRUFBRSxrQ0FBdUI7S0FDckM7SUFDRCxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLO1FBQ3RCLE1BQU0sSUFBQSwwQ0FBMkIsRUFBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFOUQsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQTtJQUM3QyxDQUFDO0NBQ0YsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMva2ltbmFjaXNjaW9uaXMvZ2l0L3BlcnNvbmFsL3NlYi1leGNoYW5nZS1yYXRlcy9iYWNrZW5kL3NyYy9yb3V0ZXMvaW50ZXJuYWwvc2VlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZSwgU2VlZEZ4UmF0ZXNCeURhdGVRdWVyeSwgU2VlZEZ4UmF0ZXNCeURhdGVTY2hlbWEgfSBmcm9tIFwiLi4vLi4vZW50aXRpZXNcIjtcbmltcG9ydCB7IHBvcHVsYXRlRGJXaXRoQ3VycmVuY3ksIHBvcHVsYXRlRGJXaXRoRXhjaGFuZ2VSYXRlcyB9IGZyb20gXCIuLi8uLi9tYW5hZ2Vycy9zZWVkLW1hbmFnZXJcIjtcblxuZXhwb3J0IGNvbnN0IHNlZWRFeGNoYW5nZVJhdGVzOiBSb3V0ZTx7fT4gPSB7XG4gIG1ldGhvZDogXCJHRVRcIixcbiAgdXJsOiBcIi9zZWVkXCIsXG4gIHNjaGVtYToge30sXG4gIGFzeW5jIGhhbmRsZXIocmVxLCByZXBseSkge1xuICAgIGF3YWl0IHBvcHVsYXRlRGJXaXRoRXhjaGFuZ2VSYXRlcyhyZXEuc2VydmVyKTtcbiAgICBhd2FpdCBwb3B1bGF0ZURiV2l0aEN1cnJlbmN5KHJlcS5zZXJ2ZXIpO1xuXG4gICAgcmVwbHkuY29kZSgyMDApLnNlbmQoeyBzdGF0dXM6ICdzdWNjZXNzJyB9KVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHNlZWRFeGNoYW5nZVJhdGVzQnlEYXRlOiBSb3V0ZTx7IFF1ZXJ5c3RyaW5nOiBTZWVkRnhSYXRlc0J5RGF0ZVF1ZXJ5IH0+ID0ge1xuICBtZXRob2Q6IFwiR0VUXCIsXG4gIHVybDogXCIvc2VlZEJ5RGF0ZVwiLFxuICBzY2hlbWE6IHtcbiAgICBxdWVyeXN0cmluZzogU2VlZEZ4UmF0ZXNCeURhdGVTY2hlbWEsXG4gIH0sXG4gIGFzeW5jIGhhbmRsZXIocmVxLCByZXBseSkge1xuICAgIGF3YWl0IHBvcHVsYXRlRGJXaXRoRXhjaGFuZ2VSYXRlcyhyZXEuc2VydmVyLCByZXEucXVlcnkuZGF0ZSk7XG5cbiAgICByZXBseS5jb2RlKDIwMCkuc2VuZCh7IHN0YXR1czogJ3N1Y2Nlc3MnIH0pXG4gIH0sXG59OyJdLCJ2ZXJzaW9uIjozfQ==