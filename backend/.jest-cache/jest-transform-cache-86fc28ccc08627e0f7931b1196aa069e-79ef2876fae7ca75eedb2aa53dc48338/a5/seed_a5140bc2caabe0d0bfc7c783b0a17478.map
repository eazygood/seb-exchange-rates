{"file":"/Users/kimnaciscionis/git/personal/seb-exchange-rates/backend/src/routes/internal/seed.ts","mappings":";;;AAAA,6CAAwF;AACxF,8DAAkG;AAErF,QAAA,iBAAiB,GAAc;IAC1C,MAAM,EAAE,KAAK;IACb,GAAG,EAAE,OAAO;IACZ,MAAM,EAAE,EAAE;IACV,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK;QACtB,MAAM,IAAA,0CAA2B,EAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC9C,MAAM,IAAA,qCAAsB,EAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAEzC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAA;IAC7C,CAAC;CACF,CAAC;AAEW,QAAA,uBAAuB,GAAmD;IACrF,MAAM,EAAE,KAAK;IACb,GAAG,EAAE,aAAa;IAClB,MAAM,EAAE;QACN,WAAW,EAAE,kCAAuB;KACrC;IACD,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK;QACtB,MAAM,IAAA,0CAA2B,EAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAE9D,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAA;IAC7C,CAAC;CACF,CAAC","names":[],"sources":["/Users/kimnaciscionis/git/personal/seb-exchange-rates/backend/src/routes/internal/seed.ts"],"sourcesContent":["import { Route, SeedFxRatesByDateQuery, SeedFxRatesByDateSchema } from \"../../entities\";\nimport { populateDbWithCurrency, populateDbWithExchangeRates } from \"../../managers/seed-manager\";\n\nexport const seedExchangeRates: Route<{}> = {\n  method: \"GET\",\n  url: \"/seed\",\n  schema: {},\n  async handler(req, reply) {\n    await populateDbWithExchangeRates(req.server);\n    await populateDbWithCurrency(req.server);\n\n    reply.code(200).send({ status: 'success' })\n  },\n};\n\nexport const seedExchangeRatesByDate: Route<{ Querystring: SeedFxRatesByDateQuery }> = {\n  method: \"GET\",\n  url: \"/seedByDate\",\n  schema: {\n    querystring: SeedFxRatesByDateSchema,\n  },\n  async handler(req, reply) {\n    await populateDbWithExchangeRates(req.server, req.query.date);\n\n    reply.code(200).send({ status: 'success' })\n  },\n};"],"version":3}