201c0d00e1aa1ad61038952756060ad3
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDefaultKnexPluginParams = exports.stopTestEnv = exports.startTestEnv = void 0;
let app;
async function startTestEnv() {
    const app = require('../src/app').default;
    await app.ready();
    return app;
}
exports.startTestEnv = startTestEnv;
async function stopTestEnv() {
    await app?.close();
}
exports.stopTestEnv = stopTestEnv;
function getDefaultKnexPluginParams() {
    return {
        raw: jest.fn(),
        destroy: jest.fn(),
        migrate: {
            latest: jest.fn(),
        },
        table: {},
    };
}
exports.getDefaultKnexPluginParams = getDefaultKnexPluginParams;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvYmFja2VuZC90ZXN0L2hlbHBlci50cyIsIm1hcHBpbmdzIjoiOzs7QUFFQSxJQUFJLEdBQW9CLENBQUM7QUFFbEIsS0FBSyxVQUFVLFlBQVk7SUFDakMsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQztJQUUxQyxNQUFNLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUVsQixPQUFPLEdBQUcsQ0FBQztBQUNaLENBQUM7QUFORCxvQ0FNQztBQUVNLEtBQUssVUFBVSxXQUFXO0lBQzdCLE1BQU0sR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDO0FBQ3ZCLENBQUM7QUFGRCxrQ0FFQztBQUVELFNBQWdCLDBCQUEwQjtJQUN6QyxPQUFPO1FBQ04sR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDUixPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNsQixPQUFPLEVBQUU7WUFDTCxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtTQUNwQjtRQUNQLEtBQUssRUFBRSxFQUFFO0tBQ1QsQ0FBQTtBQUNGLENBQUM7QUFURCxnRUFTQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMva2ltbmFjaXNjaW9uaXMvZ2l0L3BlcnNvbmFsL3NlYi1leGNoYW5nZS1yYXRlcy9iYWNrZW5kL3Rlc3QvaGVscGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZhc3RpZnlJbnN0YW5jZSB9IGZyb20gJ2Zhc3RpZnknO1xuXG5sZXQgYXBwOiBGYXN0aWZ5SW5zdGFuY2U7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydFRlc3RFbnYoKTogUHJvbWlzZTxGYXN0aWZ5SW5zdGFuY2U+IHtcblx0Y29uc3QgYXBwID0gcmVxdWlyZSgnLi4vc3JjL2FwcCcpLmRlZmF1bHQ7XG5cblx0YXdhaXQgYXBwLnJlYWR5KCk7XG5cblx0cmV0dXJuIGFwcDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3BUZXN0RW52KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IGFwcD8uY2xvc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRLbmV4UGx1Z2luUGFyYW1zKCkge1xuXHRyZXR1cm4ge1xuXHRcdHJhdzogamVzdC5mbigpLFxuICAgICAgICBkZXN0cm95OiBqZXN0LmZuKCksXG4gICAgICAgIG1pZ3JhdGU6IHtcbiAgICAgICAgICAgIGxhdGVzdDogamVzdC5mbigpLFxuICAgICAgICB9LFxuXHRcdHRhYmxlOiB7fSxcblx0fVxufSJdLCJ2ZXJzaW9uIjozfQ==