04375eec9b0a36aea5d0323bb412dd20
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const managers_1 = require("../managers");
async function createCronJobs(app) {
    app.cron.createJob({
        name: 'fetch-fxrates',
        cronTime: '1 0 * * *', // Runs every day at 00:01
        // cronTime: "*/10 * * * * *", // Runs every 10 seconds
        onTick: async () => {
            await (0, managers_1.populateDbWithExchangeRates)(app);
        },
    });
}
exports.default = createCronJobs;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvYmFja2VuZC9zcmMvam9icy9jcm9uLWpvYi50cyIsIm1hcHBpbmdzIjoiOztBQUNBLDBDQUEwRDtBQUUzQyxLQUFLLFVBQVUsY0FBYyxDQUFDLEdBQW9CO0lBQzdELEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ2YsSUFBSSxFQUFFLGVBQWU7UUFDckIsUUFBUSxFQUFFLFdBQVcsRUFBRSwwQkFBMEI7UUFDakQsdURBQXVEO1FBQ3ZELE1BQU0sRUFBRSxLQUFLLElBQUksRUFBRTtZQUNmLE1BQU0sSUFBQSxzQ0FBMkIsRUFBQyxHQUFHLENBQUMsQ0FBQztRQUMzQyxDQUFDO0tBQ0osQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQVRELGlDQVNDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9raW1uYWNpc2Npb25pcy9naXQvcGVyc29uYWwvc2ViLWV4Y2hhbmdlLXJhdGVzL2JhY2tlbmQvc3JjL2pvYnMvY3Jvbi1qb2IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFzdGlmeUluc3RhbmNlIH0gZnJvbSBcImZhc3RpZnlcIjtcbmltcG9ydCB7IHBvcHVsYXRlRGJXaXRoRXhjaGFuZ2VSYXRlcyB9IGZyb20gXCIuLi9tYW5hZ2Vyc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDcm9uSm9icyhhcHA6IEZhc3RpZnlJbnN0YW5jZSkge1xuICAgIGFwcC5jcm9uLmNyZWF0ZUpvYih7XG4gICAgICAgIG5hbWU6ICdmZXRjaC1meHJhdGVzJyxcbiAgICAgICAgY3JvblRpbWU6ICcxIDAgKiAqIConLCAvLyBSdW5zIGV2ZXJ5IGRheSBhdCAwMDowMVxuICAgICAgICAvLyBjcm9uVGltZTogXCIqLzEwICogKiAqICogKlwiLCAvLyBSdW5zIGV2ZXJ5IDEwIHNlY29uZHNcbiAgICAgICAgb25UaWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBwb3B1bGF0ZURiV2l0aEV4Y2hhbmdlUmF0ZXMoYXBwKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==