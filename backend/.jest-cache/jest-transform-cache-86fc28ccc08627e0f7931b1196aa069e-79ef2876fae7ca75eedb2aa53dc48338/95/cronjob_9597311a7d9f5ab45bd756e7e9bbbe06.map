{"file":"/Users/kimnaciscionis/git/personal/seb-exchange-rates/backend/src/jobs/cron-job.ts","mappings":";;AACA,0CAA0D;AAE3C,KAAK,UAAU,cAAc,CAAC,GAAoB;IAC7D,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;QACf,IAAI,EAAE,eAAe;QACrB,QAAQ,EAAE,WAAW,EAAE,0BAA0B;QACjD,uDAAuD;QACvD,MAAM,EAAE,KAAK,IAAI,EAAE;YACf,MAAM,IAAA,sCAA2B,EAAC,GAAG,CAAC,CAAC;QAC3C,CAAC;KACJ,CAAC,CAAC;AACP,CAAC;AATD,iCASC","names":[],"sources":["/Users/kimnaciscionis/git/personal/seb-exchange-rates/backend/src/jobs/cron-job.ts"],"sourcesContent":["import { FastifyInstance } from \"fastify\";\nimport { populateDbWithExchangeRates } from \"../managers\";\n\nexport default async function createCronJobs(app: FastifyInstance) {\n    app.cron.createJob({\n        name: 'fetch-fxrates',\n        cronTime: '1 0 * * *', // Runs every day at 00:01\n        // cronTime: \"*/10 * * * * *\", // Runs every 10 seconds\n        onTick: async () => {\n            await populateDbWithExchangeRates(app);\n        },\n    });\n}\n"],"version":3}