392106c01273820b2e7b7dae766eb020
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCurrencies = exports.saveCurrencies = void 0;
const constants_1 = require("../constants");
const saveCurrencies = async (app, currencies) => {
    await app.knex
        .table(constants_1.DB_CURRENCIES_TABLE)
        .insert(currencies)
        .onConflict("currency")
        .ignore();
};
exports.saveCurrencies = saveCurrencies;
const getCurrencies = async (app) => {
    const rows = await app.knex
        .table(constants_1.DB_CURRENCIES_TABLE)
        .select('currency');
    return rows.map(row => row.currency);
};
exports.getCurrencies = getCurrencies;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvYmFja2VuZC9zcmMvcmVwb3NpdG9yaWVzL2N1cnJlbmNpZXMtcmVwb3NpdG9yeS50cyIsIm1hcHBpbmdzIjoiOzs7QUFDQSw0Q0FBbUQ7QUFHNUMsTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUNqQyxHQUFvQixFQUNwQixVQUFvQyxFQUNyQixFQUFFO0lBQ2pCLE1BQU0sR0FBRyxDQUFDLElBQUk7U0FDWCxLQUFLLENBQUMsK0JBQW1CLENBQUM7U0FDMUIsTUFBTSxDQUFDLFVBQVUsQ0FBQztTQUNsQixVQUFVLENBQUMsVUFBVSxDQUFDO1NBQ3RCLE1BQU0sRUFBRSxDQUFDO0FBQ2QsQ0FBQyxDQUFDO0FBVFcsUUFBQSxjQUFjLGtCQVN6QjtBQUVLLE1BQU0sYUFBYSxHQUFHLEtBQUssRUFDaEMsR0FBb0IsRUFDQyxFQUFFO0lBQ3ZCLE1BQU0sSUFBSSxHQUFHLE1BQU0sR0FBRyxDQUFDLElBQUk7U0FDeEIsS0FBSyxDQUFDLCtCQUFtQixDQUFDO1NBQzFCLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUV0QixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDdEMsQ0FBQyxDQUFDO0FBUlcsUUFBQSxhQUFhLGlCQVF4QiIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMva2ltbmFjaXNjaW9uaXMvZ2l0L3BlcnNvbmFsL3NlYi1leGNoYW5nZS1yYXRlcy9iYWNrZW5kL3NyYy9yZXBvc2l0b3JpZXMvY3VycmVuY2llcy1yZXBvc2l0b3J5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZhc3RpZnlJbnN0YW5jZSB9IGZyb20gXCJmYXN0aWZ5XCI7XG5pbXBvcnQgeyBEQl9DVVJSRU5DSUVTX1RBQkxFIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQ3VycmVuY3kgfSBmcm9tIFwiLi4vZW50aXRpZXMvY3VycmVuY2llc1wiO1xuXG5leHBvcnQgY29uc3Qgc2F2ZUN1cnJlbmNpZXMgPSBhc3luYyAoXG4gIGFwcDogRmFzdGlmeUluc3RhbmNlLFxuICBjdXJyZW5jaWVzOiB7IGN1cnJlbmN5OiBDdXJyZW5jeSB9W10sXG4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgYXdhaXQgYXBwLmtuZXhcbiAgICAudGFibGUoREJfQ1VSUkVOQ0lFU19UQUJMRSlcbiAgICAuaW5zZXJ0KGN1cnJlbmNpZXMpXG4gICAgLm9uQ29uZmxpY3QoXCJjdXJyZW5jeVwiKVxuICAgIC5pZ25vcmUoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW5jaWVzID0gYXN5bmMgKFxuICBhcHA6IEZhc3RpZnlJbnN0YW5jZSxcbik6IFByb21pc2U8Q3VycmVuY3lbXT4gPT4ge1xuICBjb25zdCByb3dzID0gYXdhaXQgYXBwLmtuZXhcbiAgICAudGFibGUoREJfQ1VSUkVOQ0lFU19UQUJMRSlcbiAgICAuc2VsZWN0KCdjdXJyZW5jeScpO1xuXG4gIHJldHVybiByb3dzLm1hcChyb3cgPT4gcm93LmN1cnJlbmN5KVxufTtcbiJdLCJ2ZXJzaW9uIjozfQ==