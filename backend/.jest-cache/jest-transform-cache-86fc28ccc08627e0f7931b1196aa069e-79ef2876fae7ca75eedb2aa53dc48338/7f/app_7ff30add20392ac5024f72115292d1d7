bfcf0889f8f44e98a1ec5bd8c0df5bb8
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const fastify_1 = __importDefault(require("fastify"));
const mysql_adapter_1 = require("./adapters/mysql-adapter");
const public_1 = __importDefault(require("./routes/public/public"));
const knex_plugin_1 = __importDefault(require("./plugins/knex-plugin"));
const internal_1 = __importDefault(require("./routes/internal/internal"));
const cors_1 = __importDefault(require("@fastify/cors"));
const fastify_cron_1 = __importDefault(require("fastify-cron"));
const cron_job_1 = __importDefault(require("./jobs/cron-job"));
const f = (0, fastify_1.default)();
exports.default = f
    .register(cors_1.default, {
    origin: "*",
    allowedHeaders: "GET",
})
    .register(knex_plugin_1.default, (0, mysql_adapter_1.getConfig)())
    .register(fastify_cron_1.default, { jobs: [] })
    .register(mysql_adapter_1.registerMysqlDatabase)
    .register(internal_1.default, { prefix: "internal" })
    .register(public_1.default, { prefix: "public" })
    .register(cron_job_1.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvYmFja2VuZC9zcmMvYXBwLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsc0RBQThCO0FBQzlCLDREQUE0RTtBQUM1RSxvRUFBMEQ7QUFDMUQsd0VBQStDO0FBQy9DLDBFQUFnRTtBQUNoRSx5REFBaUM7QUFDakMsZ0VBQXVDO0FBQ3ZDLCtEQUE2QztBQUU3QyxNQUFNLENBQUMsR0FBRyxJQUFBLGlCQUFPLEdBQUUsQ0FBQTtBQUVuQixrQkFBZSxDQUFDO0tBQ2IsUUFBUSxDQUFDLGNBQUksRUFBRTtJQUNkLE1BQU0sRUFBRSxHQUFHO0lBQ1gsY0FBYyxFQUFFLEtBQUs7Q0FDdEIsQ0FBQztLQUNELFFBQVEsQ0FBQyxxQkFBVSxFQUFFLElBQUEseUJBQVMsR0FBRSxDQUFDO0tBQ2pDLFFBQVEsQ0FBQyxzQkFBVyxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxDQUFDO0tBQ25DLFFBQVEsQ0FBQyxxQ0FBcUIsQ0FBQztLQUMvQixRQUFRLENBQUMsa0JBQXNCLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLENBQUM7S0FDeEQsUUFBUSxDQUFDLGdCQUFvQixFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDO0tBQ3BELFFBQVEsQ0FBQyxrQkFBYyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvYmFja2VuZC9zcmMvYXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmYXN0aWZ5IGZyb20gXCJmYXN0aWZ5XCI7XG5pbXBvcnQgeyBnZXRDb25maWcsIHJlZ2lzdGVyTXlzcWxEYXRhYmFzZSB9IGZyb20gXCIuL2FkYXB0ZXJzL215c3FsLWFkYXB0ZXJcIjtcbmltcG9ydCByZWdpc3RlclB1YmxpY1JvdXRlcyBmcm9tIFwiLi9yb3V0ZXMvcHVibGljL3B1YmxpY1wiO1xuaW1wb3J0IGtuZXhQbHVnaW4gZnJvbSBcIi4vcGx1Z2lucy9rbmV4LXBsdWdpblwiO1xuaW1wb3J0IHJlZ2lzdGVySW50ZXJuYWxSb3V0ZXMgZnJvbSBcIi4vcm91dGVzL2ludGVybmFsL2ludGVybmFsXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiQGZhc3RpZnkvY29yc1wiO1xuaW1wb3J0IGZhc3RpZnlDcm9uIGZyb20gXCJmYXN0aWZ5LWNyb25cIjtcbmltcG9ydCBjcmVhdGVDcm9uSm9icyBmcm9tIFwiLi9qb2JzL2Nyb24tam9iXCI7XG5cbmNvbnN0IGYgPSBmYXN0aWZ5KClcblxuZXhwb3J0IGRlZmF1bHQgZlxuICAucmVnaXN0ZXIoY29ycywge1xuICAgIG9yaWdpbjogXCIqXCIsXG4gICAgYWxsb3dlZEhlYWRlcnM6IFwiR0VUXCIsXG4gIH0pXG4gIC5yZWdpc3RlcihrbmV4UGx1Z2luLCBnZXRDb25maWcoKSlcbiAgLnJlZ2lzdGVyKGZhc3RpZnlDcm9uLCB7IGpvYnM6IFtdIH0pXG4gIC5yZWdpc3RlcihyZWdpc3Rlck15c3FsRGF0YWJhc2UpXG4gIC5yZWdpc3RlcihyZWdpc3RlckludGVybmFsUm91dGVzLCB7IHByZWZpeDogXCJpbnRlcm5hbFwiIH0pXG4gIC5yZWdpc3RlcihyZWdpc3RlclB1YmxpY1JvdXRlcywgeyBwcmVmaXg6IFwicHVibGljXCIgfSlcbiAgLnJlZ2lzdGVyKGNyZWF0ZUNyb25Kb2JzKTtcbiJdLCJ2ZXJzaW9uIjozfQ==