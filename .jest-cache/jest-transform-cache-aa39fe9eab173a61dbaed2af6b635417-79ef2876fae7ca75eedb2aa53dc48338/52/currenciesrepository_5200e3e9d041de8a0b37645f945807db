68bbc397d3174cc0f06480e2193408f7
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCurrencies = exports.saveCurrencies = void 0;
const constants_1 = require("../constants");
const saveCurrencies = async (app, currencies) => {
    await app.knex
        .table(constants_1.DB_CURRENCIES_TABLE)
        .insert(currencies)
        .onConflict("currency")
        .ignore();
};
exports.saveCurrencies = saveCurrencies;
const getCurrencies = async (app) => {
    const rows = await app.knex
        .table(constants_1.DB_CURRENCIES_TABLE)
        .select('currency');
    console.log(rows);
    return rows.map(row => row.currency);
};
exports.getCurrencies = getCurrencies;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvc3JjL3JlcG9zaXRvcmllcy9jdXJyZW5jaWVzLXJlcG9zaXRvcnkudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsNENBQW1EO0FBRzVDLE1BQU0sY0FBYyxHQUFHLEtBQUssRUFDakMsR0FBb0IsRUFDcEIsVUFBb0MsRUFDckIsRUFBRTtJQUNqQixNQUFNLEdBQUcsQ0FBQyxJQUFJO1NBQ1gsS0FBSyxDQUFDLCtCQUFtQixDQUFDO1NBQzFCLE1BQU0sQ0FBQyxVQUFVLENBQUM7U0FDbEIsVUFBVSxDQUFDLFVBQVUsQ0FBQztTQUN0QixNQUFNLEVBQUUsQ0FBQztBQUNkLENBQUMsQ0FBQztBQVRXLFFBQUEsY0FBYyxrQkFTekI7QUFFSyxNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQ2hDLEdBQW9CLEVBQ0MsRUFBRTtJQUN2QixNQUFNLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJO1NBQ3hCLEtBQUssQ0FBQywrQkFBbUIsQ0FBQztTQUMxQixNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7SUFFdEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUVsQixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDdEMsQ0FBQyxDQUFDO0FBVlcsUUFBQSxhQUFhLGlCQVV4QiIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMva2ltbmFjaXNjaW9uaXMvZ2l0L3BlcnNvbmFsL3NlYi1leGNoYW5nZS1yYXRlcy9zcmMvcmVwb3NpdG9yaWVzL2N1cnJlbmNpZXMtcmVwb3NpdG9yeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGYXN0aWZ5SW5zdGFuY2UgfSBmcm9tIFwiZmFzdGlmeVwiO1xuaW1wb3J0IHsgREJfQ1VSUkVOQ0lFU19UQUJMRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IEN1cnJlbmN5IH0gZnJvbSBcIi4uL2VudGl0aWVzL2N1cnJlbmNpZXNcIjtcblxuZXhwb3J0IGNvbnN0IHNhdmVDdXJyZW5jaWVzID0gYXN5bmMgKFxuICBhcHA6IEZhc3RpZnlJbnN0YW5jZSxcbiAgY3VycmVuY2llczogeyBjdXJyZW5jeTogQ3VycmVuY3kgfVtdLFxuKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGF3YWl0IGFwcC5rbmV4XG4gICAgLnRhYmxlKERCX0NVUlJFTkNJRVNfVEFCTEUpXG4gICAgLmluc2VydChjdXJyZW5jaWVzKVxuICAgIC5vbkNvbmZsaWN0KFwiY3VycmVuY3lcIilcbiAgICAuaWdub3JlKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVuY2llcyA9IGFzeW5jIChcbiAgYXBwOiBGYXN0aWZ5SW5zdGFuY2UsXG4pOiBQcm9taXNlPEN1cnJlbmN5W10+ID0+IHtcbiAgY29uc3Qgcm93cyA9IGF3YWl0IGFwcC5rbmV4XG4gICAgLnRhYmxlKERCX0NVUlJFTkNJRVNfVEFCTEUpXG4gICAgLnNlbGVjdCgnY3VycmVuY3knKTtcblxuICBjb25zb2xlLmxvZyhyb3dzKTtcblxuICByZXR1cm4gcm93cy5tYXAocm93ID0+IHJvdy5jdXJyZW5jeSlcbn07XG4iXSwidmVyc2lvbiI6M30=