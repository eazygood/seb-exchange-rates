{"file":"/Users/kimnaciscionis/git/personal/seb-exchange-rates/test/helper.ts","mappings":";AAAA,iCAAiC;AACjC,mCAAmC;AACnC,gCAAgC;;;AAehC,gCAAgC;AAEhC,6CAA6C;AAC7C,+CAA+C;AAC/C,sDAAsD;AACtD,iDAAiD;AACjD,iDAAiD;AACjD,gDAAgD;AAChD,+CAA+C;AAC/C,gDAAgD;AAChD,gCAAgC;AAChC,iDAAiD;AACjD,wBAAwB;AACxB,QAAQ;AACR,KAAK;AACL,gBAAgB;AAChB,qCAAqC;AACrC,qBAAqB;AACrB,QAAQ;AACR,yBAAyB;AACzB,KAAK;AAEL,IAAI,GAAoB,CAAC;AAElB,KAAK,UAAU,YAAY;IACjC,MAAM,GAAG,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC;IAE1C,MAAM,GAAG,CAAC,KAAK,EAAE,CAAC;IAElB,OAAO,GAAG,CAAC;AACZ,CAAC;AAND,oCAMC;AAEM,KAAK,UAAU,WAAW;IAC7B,MAAM,GAAG,EAAE,KAAK,EAAE,CAAC;AACvB,CAAC;AAFD,kCAEC","names":[],"sources":["/Users/kimnaciscionis/git/personal/seb-exchange-rates/test/helper.ts"],"sourcesContent":["// import Fastify from \"fastify\";\n// import fp from \"fastify-plugin\";\n// import App from \"../src/app\";\n\n// export function build() {\n//   const app = Fastify();\n\n//   beforeAll(async () => {\n//     void app.register(fp(App));\n//     await app.ready();\n//   });\n\n//   afterAll(async () => await app.close());\n\n//   return app;\n// }\nimport { FastifyInstance } from 'fastify';\n// import app from '../src/app';\n\n// const mockKnex = async (fastify: any) => {\n//   fastify.knex = jest.fn().mockReturnThis();\n//   fastify.transacting = jest.fn().mockReturnThis();\n//   fastify.update = jest.fn().mockReturnThis();\n//   fastify.insert = jest.fn().mockReturnThis();\n//   fastify.select = jest.fn().mockReturnThis()\n//   fastify.from = jest.fn().mockReturnThis();\n//   fastify.where = jest.fn().mockReturnThis();\n//   fastify.knex.transaction = \n//   jest.fn(async function mockTransaction(cb) {\n//       return cb(trx);\n//   });\n// };\n// const trx = {\n//   commit: jest.fn(function(data) {\n//       return data;\n//   }),\n//   rollback: jest.fn(),\n// };\n\nlet app: FastifyInstance;\n\nexport async function startTestEnv(): Promise<FastifyInstance> {\n\tconst app = require('../src/app').default;\n\n\tawait app.ready();\n\n\treturn app;\n}\n\nexport async function stopTestEnv(): Promise<void> {\n    await app?.close();\n}\n\n"],"version":3}