928ab3c2b864dfe19d6490eb484769ee
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCurrencies = exports.saveCurrencies = void 0;
const constants_1 = require("../constants");
const saveCurrencies = async (app, currencies) => {
    await app.knex
        .table(constants_1.DB_CURRENCIES_TABLE)
        .insert(currencies)
        .onConflict("currency")
        .ignore();
};
exports.saveCurrencies = saveCurrencies;
const getCurrencies = async (app) => {
    const rows = await app.knex
        .table(constants_1.DB_CURRENCIES_TABLE)
        .select('currency');
    return rows.map(row => row.currency);
};
exports.getCurrencies = getCurrencies;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvc3JjL3JlcG9zaXRvcmllcy9jdXJyZW5jaWVzLXJlcG9zaXRvcnkudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsNENBQW1EO0FBRzVDLE1BQU0sY0FBYyxHQUFHLEtBQUssRUFDakMsR0FBb0IsRUFDcEIsVUFBb0MsRUFDckIsRUFBRTtJQUNqQixNQUFNLEdBQUcsQ0FBQyxJQUFJO1NBQ1gsS0FBSyxDQUFDLCtCQUFtQixDQUFDO1NBQzFCLE1BQU0sQ0FBQyxVQUFVLENBQUM7U0FDbEIsVUFBVSxDQUFDLFVBQVUsQ0FBQztTQUN0QixNQUFNLEVBQUUsQ0FBQztBQUNkLENBQUMsQ0FBQztBQVRXLFFBQUEsY0FBYyxrQkFTekI7QUFFSyxNQUFNLGFBQWEsR0FBRyxLQUFLLEVBQ2hDLEdBQW9CLEVBQ0MsRUFBRTtJQUN2QixNQUFNLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJO1NBQ3hCLEtBQUssQ0FBQywrQkFBbUIsQ0FBQztTQUMxQixNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7SUFFdEIsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ3RDLENBQUMsQ0FBQztBQVJXLFFBQUEsYUFBYSxpQkFReEIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2tpbW5hY2lzY2lvbmlzL2dpdC9wZXJzb25hbC9zZWItZXhjaGFuZ2UtcmF0ZXMvc3JjL3JlcG9zaXRvcmllcy9jdXJyZW5jaWVzLXJlcG9zaXRvcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmFzdGlmeUluc3RhbmNlIH0gZnJvbSBcImZhc3RpZnlcIjtcbmltcG9ydCB7IERCX0NVUlJFTkNJRVNfVEFCTEUgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBDdXJyZW5jeSB9IGZyb20gXCIuLi9lbnRpdGllcy9jdXJyZW5jaWVzXCI7XG5cbmV4cG9ydCBjb25zdCBzYXZlQ3VycmVuY2llcyA9IGFzeW5jIChcbiAgYXBwOiBGYXN0aWZ5SW5zdGFuY2UsXG4gIGN1cnJlbmNpZXM6IHsgY3VycmVuY3k6IEN1cnJlbmN5IH1bXSxcbik6IFByb21pc2U8dm9pZD4gPT4ge1xuICBhd2FpdCBhcHAua25leFxuICAgIC50YWJsZShEQl9DVVJSRU5DSUVTX1RBQkxFKVxuICAgIC5pbnNlcnQoY3VycmVuY2llcylcbiAgICAub25Db25mbGljdChcImN1cnJlbmN5XCIpXG4gICAgLmlnbm9yZSgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbmNpZXMgPSBhc3luYyAoXG4gIGFwcDogRmFzdGlmeUluc3RhbmNlLFxuKTogUHJvbWlzZTxDdXJyZW5jeVtdPiA9PiB7XG4gIGNvbnN0IHJvd3MgPSBhd2FpdCBhcHAua25leFxuICAgIC50YWJsZShEQl9DVVJSRU5DSUVTX1RBQkxFKVxuICAgIC5zZWxlY3QoJ2N1cnJlbmN5Jyk7XG5cbiAgcmV0dXJuIHJvd3MubWFwKHJvdyA9PiByb3cuY3VycmVuY3kpXG59O1xuIl0sInZlcnNpb24iOjN9